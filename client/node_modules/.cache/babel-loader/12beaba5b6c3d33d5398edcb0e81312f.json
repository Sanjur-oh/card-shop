{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios'; // from first demo\n// const initialStateValue = {username: \"\", email: \"\", name: \"\"}\n\nconst initialState = {\n  loading: false,\n  shoes: [],\n  error: ''\n}; // generates pending, fulfilled and rejected action types\n\nexport const fetchShoes = createAsyncThunk('shoe/fetchShoes', () => {\n  return axios.get(\"/shoes\").then(response => response.data);\n}); // // not positive on this one\n// export const fetchShoeId = createAsyncThunk(\n//     \"shoes/fetchShoeId\",\n//     async (id) => {\n//       fetch(`/shoes/${id}`, {\n//         method: \"SHOW\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//       });\n//       return id;\n//     }\n//   );\n// export const createShoes = createAsyncThunk(\n//     \"shoes/createShoes\",\n//     async (newShoes) => {\n//       return fetch(`/shoes`, {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify(newShoes),\n//       }).then((res) => res.json());\n//     }\n//   );\n//   // could be shoeId\n//   export const deleteShoes = createAsyncThunk(\n//     \"shoes/deleteShoes\",\n//     async (id) => {\n//       fetch(`/shoes/${id}`, {\n//         method: \"DELETE\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//       });\n//       return id;\n//     }\n//   );\n\nconst shoeSlice = createSlice({\n  name: 'shoe',\n  initialState,\n  extraReducers: builder => {\n    builder.addCase(fetchShoes.pending, state => {});\n    builder.addCase(fetchShoes.fulfilled, (state, action) => {\n      state.loading = false;\n      state.shoes = action.payload;\n      state.error = '';\n    });\n    builder.addCase(fetchShoes.rejected, (state, action) => {\n      state.loading = false;\n      state.shoes = [];\n      state.error = action.error.message;\n    }); // builder.addCase(createShoes.fulfilled, (state, action) => {\n    //     state.shoes = [...state.shoes, action.payload];\n    // })\n    // builder.addCase(deleteshoes.fulfilled, (state, action) => {\n    //     state.shoes = [...state.shoes, action.payload];\n    // })\n  }\n}); // export const {login, logout} = userSlice.actions\n\nexport default shoeSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","loading","shoes","error","fetchShoes","get","then","response","data","shoeSlice","name","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","message","reducer"],"sources":["/home/sanjuro/Development/code/phase-5/card-shop-project/client/src/features/shoeSlice.js"],"sourcesContent":["import {createSlice, createAsyncThunk} from \"@reduxjs/toolkit\";\nimport axios from 'axios'\n\n// from first demo\n// const initialStateValue = {username: \"\", email: \"\", name: \"\"}\n\nconst initialState = { loading: false, shoes: [], error: '', }\n\n// generates pending, fulfilled and rejected action types\nexport const fetchShoes = createAsyncThunk('shoe/fetchShoes', () => {\n    return axios\n        .get(\"/shoes\")\n        .then((response) => response.data)\n})\n\n// // not positive on this one\n// export const fetchShoeId = createAsyncThunk(\n//     \"shoes/fetchShoeId\",\n//     async (id) => {\n//       fetch(`/shoes/${id}`, {\n//         method: \"SHOW\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//       });\n//       return id;\n//     }\n//   );\n\n// export const createShoes = createAsyncThunk(\n//     \"shoes/createShoes\",\n//     async (newShoes) => {\n//       return fetch(`/shoes`, {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify(newShoes),\n//       }).then((res) => res.json());\n//     }\n//   );\n\n//   // could be shoeId\n//   export const deleteShoes = createAsyncThunk(\n//     \"shoes/deleteShoes\",\n//     async (id) => {\n//       fetch(`/shoes/${id}`, {\n//         method: \"DELETE\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//       });\n//       return id;\n//     }\n//   );\n\nconst shoeSlice = createSlice({\n    name: 'shoe',\n    initialState,\n    extraReducers: (builder) => {\n        builder.addCase(fetchShoes.pending, (state) => {})\n        builder.addCase(fetchShoes.fulfilled, (state, action) => {\n            state.loading = false\n            state.shoes = action.payload\n            state.error = ''\n        })\n        builder.addCase(fetchShoes.rejected, (state, action) => {\n            state.loading = false\n            state.shoes = []\n            state.error = action.error.message\n        })\n        // builder.addCase(createShoes.fulfilled, (state, action) => {\n        //     state.shoes = [...state.shoes, action.payload];\n        // })\n        // builder.addCase(deleteshoes.fulfilled, (state, action) => {\n        //     state.shoes = [...state.shoes, action.payload];\n        // })\n          \n\n    },\n})\n\n// export const {login, logout} = userSlice.actions\n\nexport default shoeSlice.reducer"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,gBAArB,QAA4C,kBAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;AACA;;AAEA,MAAMC,YAAY,GAAG;EAAEC,OAAO,EAAE,KAAX;EAAkBC,KAAK,EAAE,EAAzB;EAA6BC,KAAK,EAAE;AAApC,CAArB,C,CAEA;;AACA,OAAO,MAAMC,UAAU,GAAGN,gBAAgB,CAAC,iBAAD,EAAoB,MAAM;EAChE,OAAOC,KAAK,CACPM,GADE,CACE,QADF,EAEFC,IAFE,CAEIC,QAAD,IAAcA,QAAQ,CAACC,IAF1B,CAAP;AAGH,CAJyC,CAAnC,C,CAMP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,SAAS,GAAGZ,WAAW,CAAC;EAC1Ba,IAAI,EAAE,MADoB;EAE1BV,YAF0B;EAG1BW,aAAa,EAAGC,OAAD,IAAa;IACxBA,OAAO,CAACC,OAAR,CAAgBT,UAAU,CAACU,OAA3B,EAAqCC,KAAD,IAAW,CAAE,CAAjD;IACAH,OAAO,CAACC,OAAR,CAAgBT,UAAU,CAACY,SAA3B,EAAsC,CAACD,KAAD,EAAQE,MAAR,KAAmB;MACrDF,KAAK,CAACd,OAAN,GAAgB,KAAhB;MACAc,KAAK,CAACb,KAAN,GAAce,MAAM,CAACC,OAArB;MACAH,KAAK,CAACZ,KAAN,GAAc,EAAd;IACH,CAJD;IAKAS,OAAO,CAACC,OAAR,CAAgBT,UAAU,CAACe,QAA3B,EAAqC,CAACJ,KAAD,EAAQE,MAAR,KAAmB;MACpDF,KAAK,CAACd,OAAN,GAAgB,KAAhB;MACAc,KAAK,CAACb,KAAN,GAAc,EAAd;MACAa,KAAK,CAACZ,KAAN,GAAcc,MAAM,CAACd,KAAP,CAAaiB,OAA3B;IACH,CAJD,EAPwB,CAYxB;IACA;IACA;IACA;IACA;IACA;EAGH;AAvByB,CAAD,CAA7B,C,CA0BA;;AAEA,eAAeX,SAAS,CAACY,OAAzB"},"metadata":{},"sourceType":"module"}